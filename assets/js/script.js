(()=>{"use strict";const e=()=>{try{const e=document.querySelectorAll('[href^="#"]'),t=.15,a=e=>{let a=document.documentElement.scrollTop,o=document.querySelector(e).getBoundingClientRect().top-50,l=null;requestAnimationFrame(function e(s){null===l&&(l=s);let c=s-l,n=o<0?Math.max(a-c/t,a+o):Math.min(a+c/t,a+o);document.documentElement.scrollTo(0,n),n!=a+o&&requestAnimationFrame(e)})};window.location.hash&&a(window.location.hash),e.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),a(this.hash)})})}catch(e){console.log(e.stack)}},t=()=>{function e(e){let t=e.target.getAttribute("data-mask")?e.target.getAttribute("data-mask").trim():"+7 (___) ___-__-__",a=0,o=t.replace(/\D/g,""),l=this.value.replace(/\D/g,"");o.length>=l.length&&(l=o),this.value=t.replace(/./g,function(e){return/[_\d]/.test(e)&&a<l.length?l.charAt(a++):a>=l.length?"":e}),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let a=t.createTextRange();a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select()}})(this.value.length,this)}document.querySelectorAll('input[type="tel"], [data-mask]').forEach(t=>{t.addEventListener("input",e),t.addEventListener("focus",e),t.addEventListener("blur",e)})};window.addEventListener("DOMContentLoaded",()=>{e(),t(),(()=>{try{document.querySelectorAll(".slider").forEach(e=>{let t,a=e.querySelector(".slider-track"),o=e.querySelector(".slider-list"),l=e.querySelector(".slider-dots"),s=e.querySelector(".slider-arrows-nums"),c=e.querySelector(".slider-arrows"),n=e.querySelectorAll(".slide"),r=e.querySelectorAll(".slide-second"),i=0,d=e.querySelector(".slider-arrows-item.right"),u=d?d.querySelector(".counter"):"",m=e.querySelector(".slider-arrows-item.left"),h=m?m.querySelector(".counter"):"",v=0,g=n.length,y=0,L=0,f=!1,w=e.classList.contains("nograp"),b=0,p=0;if(s&&(s.querySelector(".count").textContent=g),g<1&&(c.style.display="none"),l){l.innerHTML="";for(let e=0;e<g;e++)l.innerHTML+="<span></span>";t=l.querySelectorAll("span")}const E=()=>window.innerWidth<=576&&e.getAttribute("data-mob-vis")?+e.getAttribute("data-mob-vis"):window.innerWidth<=768&&e.getAttribute("data-stablet-vis")?+e.getAttribute("data-stablet-vis"):window.innerWidth<=992&&e.getAttribute("data-tablet-vis")?+e.getAttribute("data-tablet-vis"):window.innerWidth<=1200&&e.getAttribute("data-tablet-big-vis")?+e.getAttribute("data-tablet-big-vis"):window.innerWidth<=1400&&e.getAttribute("data-lap-vis")?+e.getAttribute("data-lap-vis"):window.innerWidth<=1700&&e.getAttribute("data-pc-vis")?+e.getAttribute("data-pc-vis"):e.getAttribute("data-tv-vis")?+e.getAttribute("data-tv-vis"):1,S=()=>{y=-v*i,a.style.transform=`translateX(-${v*i}px)`,n.forEach(e=>e.classList.remove("active")),n[v].classList.add("active"),u&&h&&(h.textContent=`${0===v?g:v}/${g}`,u.textContent=`${v+2>g?1:v+2}/${g}`),l&&(t.forEach(e=>e.classList.remove("active")),t[v].classList.add("active")),s&&(s.querySelector(".current").textContent=v+E()),r.length>0&&(r.forEach(e=>e.classList.remove("active")),r[v].classList.add("active"))},q=()=>{i=n[0].offsetWidth+ +window.getComputedStyle(n[0]).marginRight.replace("px","")},A=()=>-i*(g-E()),_=(e=150)=>{if(f){a.classList.remove("fast"),o.classList.remove("grabbing"),f=!1,y=L;let t=-Math.ceil(p/i);0===t&&(p<-e&&(t=1),p>e&&(t=-1)),v+=t,v<0&&(v=0),v+E()>=g&&(v=g-E()),S(),p=0,b=0}},k=e=>{f=!0,b=e},x=e=>{f&&(a.classList.add("fast"),o.classList.add("grabbing"),p=e-b,L=y+(e-b),L>0&&(L=0),L<A()&&(L=A()),a.style.transform=`translateX(${L}px)`)};n.forEach((e,t)=>{e.classList.contains("active")&&(v=t+E()>=g?g-E():t),e.addEventListener("click",()=>{r.length>0&&(r.forEach(e=>e.classList.remove("active")),r[t].classList.add("active"),n.forEach(e=>e.classList.remove("active")),n[t].classList.add("active"))})}),q(),S(),w||(o.addEventListener("mousedown",e=>k(e.clientX)),o.addEventListener("mousemove",e=>x(e.clientX)),o.addEventListener("mouseup",()=>_(150)),o.addEventListener("mouseleave",()=>_(150)),o.addEventListener("touchstart",e=>k(e.touches[0].clientX)),o.addEventListener("touchmove",e=>x(e.touches[0].clientX)),o.addEventListener("touchend",()=>_(50))),d&&d.addEventListener("click",()=>{v+E()>=g?v=0:v++,S()}),m&&m.addEventListener("click",()=>{v<=0?v=g-E():v--,S()}),l&&t.forEach((e,t)=>{e.addEventListener("click",()=>{v=t,S()})}),window.addEventListener("resize",()=>{q(),S()})})}catch(e){console.log(e.stack)}})(),(()=>{const e=()=>{document.querySelector("body").classList.add("fixed"),document.querySelector("html").classList.add("fixed")},t=()=>{document.querySelector("body").classList.remove("fixed"),document.querySelector("html").classList.remove("fixed")},a=(e="")=>{const t=e?e.querySelectorAll(".elem_animate"):document.querySelectorAll(".elem_animate"),a=e?e.querySelectorAll(".text_animate"):document.querySelectorAll(".text_animate"),o=e?e.querySelectorAll(".elem_animate_field"):document.querySelectorAll(".elem_animate_field");function l(){return window.innerWidth<=600?window.innerHeight/1.05:window.innerHeight/1.2}function s(e){e.forEach(e=>{l()+window.scrollY>=e.getBoundingClientRect().y+window.scrollY&&e.classList.add("anim")})}function c(e){window.innerWidth>992&&e.forEach(e=>{l()+window.scrollY>=e.getBoundingClientRect().y+window.scrollY&&e.querySelectorAll(".elem_animate").forEach(e=>{e.classList.add("anim")})})}window.innerWidth>992&&o.forEach(e=>{const t=e.querySelectorAll(".elem_animate"),a=e.querySelector(".first-animate");let o=0;a&&(a.style.transitionDelay=o+"s",o+=.4),t.forEach(e=>{a&&e==a||(e.style.transitionDelay=o+"s",o+=.4)})}),a.forEach(e=>{let t=e.textContent.trim(),a="",o=0;for(let e=0;e<t.length;e++)a+=`<i class="or" style="transition: 0.4s all ${o.toFixed(2)}s">${t[e]}</i>`,o+=.03;e.innerHTML=a}),c(o),s(t),s(a),window.addEventListener("scroll",()=>{c(o),s(t),s(a)}),window.onbeforeunload=()=>{t.forEach(e=>e.classList.remove("anim"))},window.onpageshow=function(){c(o),s(t),s(a)}};try{const e=document.querySelectorAll(".body-click-content"),t=document.querySelectorAll(".body-click-target");document.body.addEventListener("click",a=>{if(a.target.classList.contains("body-click-target")||a.target.classList.contains("body-click-close")){a.preventDefault();let o=a.target.getAttribute("data-content")?document.querySelector('.body-click-content[data-content="'+a.target.getAttribute("data-content")+'"]'):a.target.nextElementSibling?a.target.nextElementSibling:"";e.forEach(e=>o!=e&&e.classList.contains("global-hide")?e.classList.remove("active"):""),t.forEach(e=>e.classList.contains("global-hide")&&e!=a.target?e.classList.remove("active"):""),o&&o.classList.contains("body-click-content")?o.classList.toggle("active"):a.target.parentElement.classList.remove("active"),!a.target.classList.contains("not-active")&&a.target.classList.toggle("active")}else a.target.closest(".body-click-content")||(e.forEach(e=>e.classList.contains("not-global")?"":e.classList.remove("active")),t.forEach(e=>e.classList.contains("not-active")||e.classList.contains("not-global")?"":e.classList.remove("active")))})}catch(e){console.log(e.stack)}try{const a=document.querySelector(".modal"),o=document.querySelectorAll("[data-call-modal]"),l=document.querySelectorAll(".modal__item");o.forEach(t=>{t.getAttribute("data-call-modal")&&t.addEventListener("click",()=>{l.forEach(e=>e.classList.remove("active")),a.classList.add("active"),a.querySelector('.modal__item[data-modal="'+t.getAttribute("data-call-modal")+'"]').classList.add("active"),e()})}),a.addEventListener("click",e=>{(e.target==a||e.target.classList.contains("modal__close")||e.target.classList.contains("modal__hide"))&&(l.forEach(e=>e.classList.remove("active")),a.classList.remove("active"),t())})}catch(e){console.log(e.stack)}try{Fancybox.bind("[data-fancybox]"),document.querySelectorAll("a[data-iframe-usage]").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),new Fancybox([{type:"html",src:'<iframe src="'+e.href+'" class="framed-video" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}])})})}catch(e){console.log(e.stack)}try{const o=document.querySelector(".home__promo-video"),l=document.querySelector(".loading-video"),s=document.querySelector(".preloader"),c=document.querySelector(".preloader__progress span"),n=document.querySelector(".preloader__line span");if(l&&s){let r=l.getAttribute("data-src").trim();s.classList.add("active"),e(),(async()=>{let e=await fetch(r),i=e.body.getReader(),d=+e.headers.get("Content-Length"),u=0,m=0;for(;;){const{done:e,value:h}=await i.read();if(e){s.classList.remove("active"),t(),l.src=r,o.classList.add("anim"),a();break}u+=h.length,m=Math.round(u/(d/100)),c.textContent=m,n.style.width=m+"%"}})()}else a()}catch(e){console.log(e.stack)}try{document.querySelectorAll(".load-temp").forEach(e=>{let t=e.id,o=e.getAttribute("data-base")?e.getAttribute("data-base").trim():"../";(async function(e){let t=await fetch(e,{method:"GET"});return await t.text()})(o+"blocks/"+t+".html").then(l=>{e.outerHTML=l.replaceAll("{base}",o),"persons"==t&&(()=>{const e=document.querySelector(".home__persons-slider"),t=document.querySelectorAll(".home__persons-slider-item");let a;const o=(o=-1)=>{clearTimeout(a),t.forEach(e=>e.classList.remove("hover","linked")),-1!=o?(t[o].classList.add("hover"),e.classList.add("hovered"),a=setTimeout(()=>{t[o].classList.add("linked")},300)):e.classList.remove("hovered")};t.forEach((e,t)=>{let a=e.querySelector("a");a.addEventListener("click",a=>{e.classList.contains("linked")||a.preventDefault(),o(t)}),a.addEventListener("mouseenter",()=>o(t)),a.addEventListener("mouseleave",()=>o(-1))})})(),a(document.querySelector("#".tempId))})})}catch(e){console.log(e.stack)}try{const e=document.querySelector(".person__promo-card.target"),t=document.querySelector(".person__promo-wrap"),a=document.querySelector(".person__content"),o=document.querySelector(".person__promo");if(e){let l,s,c,n,r,i,d,u;const m=()=>{u=+window.getComputedStyle(o).paddingTop.replace("px",""),c=t.getBoundingClientRect().y+window.scrollY,n=c+t.offsetHeight,r=window.scrollY+u+e.offsetHeight,i=a.getBoundingClientRect().y+window.scrollY,d=i+a.offsetHeight,l=window.scrollY+u,s=window.scrollY+window.innerHeight};m();const h=()=>{window.innerWidth>768&&(m(),l>c&&r<d?(e.classList.add("fixed"),e.style.top=u+"px"):r>=d?e.style.top=u+d-r+"px":(e.classList.remove("fixed"),e.style.top=""))};h(),window.addEventListener("scroll",h),window.addEventListener("scale",h)}}catch(e){console.log(e.stack)}})()})})();