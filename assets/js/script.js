(()=>{"use strict";const e=()=>{try{const e=document.querySelectorAll('[href^="#"]'),t=.15,a=e=>{let a=document.documentElement.scrollTop,o=document.querySelector(e).getBoundingClientRect().top-50,n=null;requestAnimationFrame(function e(l){null===n&&(n=l);let c=l-n,s=o<0?Math.max(a-c/t,a+o):Math.min(a+c/t,a+o);document.documentElement.scrollTo(0,s),s!=a+o&&requestAnimationFrame(e)})};window.location.hash&&a(window.location.hash),e.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),a(this.hash)})})}catch(e){console.log(e.stack)}},t=()=>{function e(e){let t=e.target.getAttribute("data-mask")?e.target.getAttribute("data-mask").trim():"+7 (___) ___-__-__",a=0,o=t.replace(/\D/g,""),n=this.value.replace(/\D/g,"");o.length>=n.length&&(n=o),this.value=t.replace(/./g,function(e){return/[_\d]/.test(e)&&a<n.length?n.charAt(a++):a>=n.length?"":e}),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let a=t.createTextRange();a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select()}})(this.value.length,this)}document.querySelectorAll('input[type="tel"], [data-mask]').forEach(t=>{t.addEventListener("input",e),t.addEventListener("focus",e),t.addEventListener("blur",e)})};window.addEventListener("DOMContentLoaded",()=>{e(),t(),(()=>{try{document.querySelectorAll(".slider").forEach(e=>{let t,a=e.querySelector(".slider-track"),o=e.querySelector(".slider-list"),n=e.querySelector(".slider-dots"),l=e.querySelector(".slider-arrows-nums"),c=e.querySelector(".slider-arrows"),s=e.querySelectorAll(".slide"),i=e.querySelectorAll(".slide-second"),r=0,d=e.querySelector(".slider-arrows-item.right"),u=d?d.querySelector(".counter"):"",m=e.querySelector(".slider-arrows-item.left"),g=m?m.querySelector(".counter"):"",v=0,h=s.length,y=0,L=0,f=!1,w=e.classList.contains("nograp"),b=0,p=0;if(l&&(l.querySelector(".count").textContent=h),h<1&&(c.style.display="none"),n){n.innerHTML="";for(let e=0;e<h;e++)n.innerHTML+="<span></span>";t=n.querySelectorAll("span")}const E=()=>window.innerWidth<=576&&e.getAttribute("data-mob-vis")?+e.getAttribute("data-mob-vis"):window.innerWidth<=768&&e.getAttribute("data-stablet-vis")?+e.getAttribute("data-stablet-vis"):window.innerWidth<=992&&e.getAttribute("data-tablet-vis")?+e.getAttribute("data-tablet-vis"):window.innerWidth<=1200&&e.getAttribute("data-tablet-big-vis")?+e.getAttribute("data-tablet-big-vis"):window.innerWidth<=1400&&e.getAttribute("data-lap-vis")?+e.getAttribute("data-lap-vis"):window.innerWidth<=1700&&e.getAttribute("data-pc-vis")?+e.getAttribute("data-pc-vis"):e.getAttribute("data-tv-vis")?+e.getAttribute("data-tv-vis"):1,S=()=>{y=-v*r,a.style.transform=`translateX(-${v*r}px)`,s.forEach(e=>e.classList.remove("active")),s[v].classList.add("active"),u&&g&&(g.textContent=`${0===v?h:v}/${h}`,u.textContent=`${v+2>h?1:v+2}/${h}`),n&&(t.forEach(e=>e.classList.remove("active")),t[v].classList.add("active")),l&&(l.querySelector(".current").textContent=v+E()),i.length>0&&(i.forEach(e=>e.classList.remove("active")),i[v].classList.add("active"))},q=()=>{r=s[0].offsetWidth+ +window.getComputedStyle(s[0]).marginRight.replace("px","")},A=()=>-r*(h-E()),_=(e=150)=>{if(f){a.classList.remove("fast"),o.classList.remove("grabbing"),f=!1,y=L;let t=-Math.ceil(p/r);0===t&&(p<-e&&(t=1),p>e&&(t=-1)),v+=t,v<0&&(v=0),v+E()>=h&&(v=h-E()),S(),p=0,b=0}},k=e=>{f=!0,b=e},x=e=>{f&&(a.classList.add("fast"),o.classList.add("grabbing"),p=e-b,L=y+(e-b),L>0&&(L=0),L<A()&&(L=A()),a.style.transform=`translateX(${L}px)`)};s.forEach((e,t)=>{e.classList.contains("active")&&(v=t+E()>=h?h-E():t),e.addEventListener("click",()=>{i.length>0&&(i.forEach(e=>e.classList.remove("active")),i[t].classList.add("active"),s.forEach(e=>e.classList.remove("active")),s[t].classList.add("active"))})}),q(),S(),w||(o.addEventListener("mousedown",e=>k(e.clientX)),o.addEventListener("mousemove",e=>x(e.clientX)),o.addEventListener("mouseup",()=>_(150)),o.addEventListener("mouseleave",()=>_(150)),o.addEventListener("touchstart",e=>k(e.touches[0].clientX)),o.addEventListener("touchmove",e=>x(e.touches[0].clientX)),o.addEventListener("touchend",()=>_(50))),d&&d.addEventListener("click",()=>{v+E()>=h?v=0:v++,S()}),m&&m.addEventListener("click",()=>{v<=0?v=h-E():v--,S()}),n&&t.forEach((e,t)=>{e.addEventListener("click",()=>{v=t,S()})}),window.addEventListener("resize",()=>{q(),S()})})}catch(e){console.log(e.stack)}})(),(()=>{const e=()=>{document.querySelector("body").classList.add("fixed"),document.querySelector("html").classList.add("fixed")},t=()=>{document.querySelector("body").classList.remove("fixed"),document.querySelector("html").classList.remove("fixed")},a=()=>{const e=document.querySelectorAll(".elem_animate"),t=document.querySelectorAll(".text_animate"),a=document.querySelectorAll(".elem_animate_field");function o(){return window.innerWidth<=600?window.innerHeight/1.05:window.innerHeight/1.2}function n(e){e.forEach(e=>{o()+window.scrollY>=e.getBoundingClientRect().y+window.scrollY&&e.classList.add("anim")})}function l(e){window.innerWidth>992&&e.forEach(e=>{o()+window.scrollY>=e.getBoundingClientRect().y+window.scrollY&&e.querySelectorAll(".elem_animate").forEach(e=>{e.classList.add("anim")})})}window.innerWidth>992&&a.forEach(e=>{const t=e.querySelectorAll(".elem_animate"),a=e.querySelector(".first-animate");let o=0;a&&(a.style.transitionDelay=o+"s",o+=.4),t.forEach(e=>{a&&e==a||(e.style.transitionDelay=o+"s",o+=.4)})}),t.forEach(e=>{let t=e.textContent.trim(),a="",o=0;for(let e=0;e<t.length;e++)a+=`<i class="or" style="transition: 0.4s all ${o.toFixed(2)}s">${t[e]}</i>`,o+=.03;e.innerHTML=a}),l(a),n(e),n(t),window.addEventListener("scroll",()=>{l(a),n(e),n(t)}),window.onbeforeunload=()=>{e.forEach(e=>e.classList.remove("anim"))},window.onpageshow=function(){l(a),n(e),n(t)}};try{const e=document.querySelectorAll(".body-click-content"),t=document.querySelectorAll(".body-click-target");document.body.addEventListener("click",a=>{if(a.target.classList.contains("body-click-target")||a.target.classList.contains("body-click-close")){a.preventDefault();let o=a.target.getAttribute("data-content")?document.querySelector('.body-click-content[data-content="'+a.target.getAttribute("data-content")+'"]'):a.target.nextElementSibling?a.target.nextElementSibling:"";e.forEach(e=>o!=e&&e.classList.contains("global-hide")?e.classList.remove("active"):""),t.forEach(e=>e.classList.contains("global-hide")&&e!=a.target?e.classList.remove("active"):""),o&&o.classList.contains("body-click-content")?o.classList.toggle("active"):a.target.parentElement.classList.remove("active"),!a.target.classList.contains("not-active")&&a.target.classList.toggle("active")}else a.target.closest(".body-click-content")||(e.forEach(e=>e.classList.contains("not-global")?"":e.classList.remove("active")),t.forEach(e=>e.classList.contains("not-active")||e.classList.contains("not-global")?"":e.classList.remove("active")))})}catch(e){console.log(e.stack)}try{const a=document.querySelector(".modal"),o=document.querySelectorAll("[data-call-modal]"),n=document.querySelectorAll(".modal__item");o.forEach(t=>{t.getAttribute("data-call-modal")&&t.addEventListener("click",()=>{n.forEach(e=>e.classList.remove("active")),a.classList.add("active"),a.querySelector('.modal__item[data-modal="'+t.getAttribute("data-call-modal")+'"]').classList.add("active"),e()})}),a.addEventListener("click",e=>{(e.target==a||e.target.classList.contains("modal__close")||e.target.classList.contains("modal__hide"))&&(n.forEach(e=>e.classList.remove("active")),a.classList.remove("active"),t())})}catch(e){console.log(e.stack)}try{Fancybox.bind("[data-fancybox]"),document.querySelectorAll("a[data-iframe-usage]").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),new Fancybox([{type:"html",src:'<iframe src="'+e.href+'" class="framed-video" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}])})})}catch(e){console.log(e.stack)}try{const e=document.querySelectorAll(".home__persons-slider-item");let t;const a=(a=-1)=>{clearTimeout(t),e.forEach(e=>e.classList.remove("hover","linked")),-1!=a&&(e[a].classList.add("hover"),t=setTimeout(()=>{e[a].classList.add("linked")},300))};e.forEach((e,t)=>{let o=e.querySelector("a");o.addEventListener("click",o=>{e.classList.contains("linked")||o.preventDefault(),a(t)}),o.addEventListener("mouseenter",()=>a(t)),o.addEventListener("mouseleave",()=>a(-1))})}catch(e){console.log(e.stack)}try{const o=document.querySelector(".home__promo-video"),n=document.querySelector(".loading-video"),l=document.querySelector(".preloader"),c=document.querySelector(".preloader__progress span"),s=document.querySelector(".preloader__line span");if(n&&l){let i=n.getAttribute("data-src").trim();l.classList.add("active"),e(),(async()=>{let e=await fetch(i),r=e.body.getReader(),d=+e.headers.get("Content-Length"),u=0,m=0;for(;;){const{done:e,value:g}=await r.read();if(e){l.classList.remove("active"),t(),n.outerHTML=`<video src="${i}" muted autoplay loop playsinline class="img_bg"></video>`,o.classList.add("anim"),a();break}u+=g.length,m=Math.round(u/(d/100)),c.textContent=m,s.style.width=m+"%"}})()}else a()}catch(e){console.log(e.stack)}try{document.querySelectorAll(".load-temp").forEach(e=>{let t=e.id,a=e.getAttribute("data-base")?e.getAttribute("data-base").trim():"../";(async function(e){let t=await fetch(e,{method:"GET"});return await t.text()})(a+"blocks/"+t+".html").then(t=>{e.outerHTML=t.replaceAll("{base}",a)})})}catch(e){console.log(e.stack)}try{const e=document.querySelector(".person__promo-card.target"),t=document.querySelector(".person__promo-wrap"),a=document.querySelector(".person__content"),o=document.querySelector(".person__promo");if(e){let n,l,c,s,i,r,d,u,m;const g=()=>{m=+window.getComputedStyle(o).paddingTop.replace("px",""),c=t.getBoundingClientRect().y+window.scrollY,s=c+t.offsetHeight,i=e.getBoundingClientRect().y+window.scrollY,r=i+e.offsetHeight,d=a.getBoundingClientRect().y+window.scrollY,u=d+a.offsetHeight,n=window.scrollY+m,l=window.scrollY+window.innerHeight};g();const v=()=>{window.innerWidth>768&&(g(),n>c?(e.classList.add("fixed"),e.style.top=m+"px"):(e.classList.remove("fixed"),e.style.top=""))};v(),window.addEventListener("scroll",v),window.addEventListener("scale",v)}}catch(e){console.log(e.stack)}})()})})();